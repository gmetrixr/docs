<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="search" type="application/opensearchdescription+xml" title="GMetri Documentation" href="/docs/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-P3STB99"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-P3STB99",{anonymize_ip:!0})</script><title data-rh="true">Token | GMetri Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.gmetri.com/docs/platform/publish/authentication/viewer_groups/token"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Token | GMetri Documentation"><meta data-rh="true" name="description" content="This option allows to generate automatic login tokens to login the viewers. A great way to use this feature is to autogenrate the login tokens via an API and create limited time login links."><meta data-rh="true" property="og:description" content="This option allows to generate automatic login tokens to login the viewers. A great way to use this feature is to autogenrate the login tokens via an API and create limited time login links."><link data-rh="true" rel="icon" href="https://s.vrgmetri.com/gb-web/portal-docs/assets/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.gmetri.com/docs/platform/publish/authentication/viewer_groups/token"><link data-rh="true" rel="alternate" href="https://www.gmetri.com/docs/platform/publish/authentication/viewer_groups/token" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.gmetri.com/docs/platform/publish/authentication/viewer_groups/token" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UQD6V3Y21S-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.8b04b6f5.css">
<link rel="preload" href="/docs/assets/js/runtime~main.3d0b14c7.js" as="script">
<link rel="preload" href="/docs/assets/js/main.16436d3d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ezUa">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="https://s.vrgmetri.com/gb-web/portal-docs/assets/img/logo.png" alt="GMetri" class="themedImage_gMyF themedImage--light_XwU6"><img src="https://s.vrgmetri.com/gb-web/portal-docs/assets/img/logo-white.png" alt="GMetri" class="themedImage_gMyF themedImage--dark_PFve"></div><b class="navbar__title">GMetri Documentation</b></a><a href="https://www.gmetri.com/help/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Help Center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a href="https://www.gmetri.com/xracademy/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>XR Academy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://www.gmetri.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GMetri.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://portal.gmetri.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Dashboard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_SD0q"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_XL_Q"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_rbcG" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_Q4TS"><div class="sidebar_QEKm"><nav class="menu thin-scrollbar menu_YDfZ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/docs/platform">Platform</a><button aria-label="Toggle the collapsible sidebar category &#x27;Platform&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/platform/create">Create</a><button aria-label="Toggle the collapsible sidebar category &#x27;Create&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/platform/publish/intro">Publish</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/platform/publish/embed/introduction">Embed</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/Authentication">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/platform/publish/authentication/editor">authentication</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/authentication/editor">Editor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/authentication/public">Public</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/authentication/social">Social</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/platform/publish/authentication/viewer_groups/custom_list">viewer_groups</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/authentication/viewer_groups/custom_list">Custom List</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/authentication/viewer_groups/password_with_expiry">Password With Expiry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/authentication/viewer_groups/sso">SSO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/platform/publish/authentication/viewer_groups/token">Token</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/authentication/viewer_groups">Introduction</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform/publish/kiosk">Kiosk Mode</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/platform/track/intro">Track</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/platform/settings/teams_and_collaborations">Settings</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/features/intro">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/guidelines">Guidelines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guidelines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/compatibility/platform-compatibility-matrix">Compatibility</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/faqs/general">FAQs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faqs/general">General FAQs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faqs/content">Content FAQs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faqs/deployment">Deployment FAQs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/faqs/deployment_infrastructure/firewallsandwhitelisting">Deployment Infra FAQs</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faqs/scorm">SCORM FAQs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/plugins">Plugins</a><button aria-label="Toggle the collapsible sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_LVVH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_j4RD"><div class="docItemContainer_Sq9h"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_riL6" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_huw4" href="/docs/">🏠</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_huw4" href="/docs/platform">Platform</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_huw4">Publish</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_huw4">authentication</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_huw4">viewer_groups</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_huw4" href="/docs/platform/publish/authentication/viewer_groups/token">Token</a></li></ul></nav><div class="tocCollapsible_quiz theme-doc-toc-mobile tocMobile_FDr2"><button type="button" class="clean-btn tocCollapsibleButton_kdkj">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Token</h1><p>This option allows to generate automatic login tokens to login the viewers. A great way to use this feature is to autogenrate the login tokens via an API and create limited time login links.</p><p>To generate a token, create a new viewer group and select the <code>token</code> login method.
When you select this, you will be shown a <code>signing key</code>, copy this signing key. This will be used to generate the login tokens.</p><p>To generate a login token, we create a Jwt token. This login token will be appended to the experience link. </p><p>The final url will look like this: </p><p><code>&lt;deployment-link&gt;?token=&lt;generate-jwt-token&gt;</code></p><p>An example url:</p><p><code>https://view.gmetri.com/v4/game/safehands_v2?token=34fhdf7asbfdsa09in2m1od.09u0dfa8nfdjajkbfe8uih32rjn.908ufdbsahbjfd9sabjhfdu</code> </p><h2 class="anchor anchorWithStickyNavbar_feHZ" id="creating-a-jwt-token-for-your-experience">Creating a Jwt token for your experience:<a class="hash-link" href="#creating-a-jwt-token-for-your-experience" title="Direct link to heading">​</a></h2><p>JSON Web Token (Jwt) is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed.
A typical Jwt consists of three parts separated by dots (<code>.</code>), which are header, payload and signature. Therefore, a JWT typically looks like the following.
<code>xxxxx.yyyyy.zzzzz</code>. More information about Jwts can be found <a href="https://jwt.io/introduction/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_feHZ" id="jwt-payload">Jwt Payload<a class="hash-link" href="#jwt-payload" title="Direct link to heading">​</a></h3><p>This information is required to correctly identify a viewer on GMetri experiences. The payload for the JWT is shown below (the optional fields can be set as per requirement):</p><div class="codeBlockContainer_wBFW language-javascript theme-code-block"><div class="codeBlockContent_bA5z javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_pemA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bvlO"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;identifier&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">required</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;first_name&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">optional</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;last_name&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">optional</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Doe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;phone_num&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">optional</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;+1 000 000 000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_A02j clean-btn">Copy</button></div></div><p><strong><code>identifier</code></strong> is the unique key by which you identify your viewers.</p><h3 class="anchor anchorWithStickyNavbar_feHZ" id="creating-jwt-tokens-on-the-web">Creating Jwt tokens on the web<a class="hash-link" href="#creating-jwt-tokens-on-the-web" title="Direct link to heading">​</a></h3><p>We recommend using npm package <strong><code>jsonwebtoken</code></strong> to generate jwt tokens on the web (both on server and browser)</p><p>An example of generating a Jwt token in <code>node.js</code>:</p><div class="codeBlockContainer_wBFW language-javascript theme-code-block"><div class="codeBlockContent_bA5z javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_pemA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bvlO"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> jwt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;jsonwebtoken&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generateJwt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> payload </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">identifier</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;John001&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// A unique identifier for your user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">first_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;John&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> apiSecretkey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;your api secret key&gt;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> token </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">payload</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> apiSecretkey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_A02j clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_feHZ" id="creating-jwt-tokens-in-a-java-app">Creating Jwt tokens in a java app<a class="hash-link" href="#creating-jwt-tokens-in-a-java-app" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_wBFW language-java theme-code-block"><div class="codeBlockContent_bA5z java"><pre tabindex="0" class="prism-code language-java codeBlock_pemA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bvlO"><span class="token-line" style="color:#393A34"><span class="token plain">  import java.security.Key;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import io.jsonwebtoken.Jwts;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import io.jsonwebtoken.security.Keys;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String createJwt(String url, String identifier, String apiSecret) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JSONObject obj = new JSONObject();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj.put(&quot;identifier&quot;, identifier);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Key key = Keys.hmacShaKeyFor(apiSecret.getBytes());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String jwt = Jwts.builder().setPayload(obj.toString()).signWith(key).compact();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return url + &quot;?token=&quot; + jwt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // url is the link from deployment section sssss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String finalUrl = createJwt(url, &lt;unique identifier&gt;, &lt;your api secret key&gt;);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_A02j clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_feHZ" id="creating-jwt-tokens-in-an-android-app">Creating Jwt tokens in an android app<a class="hash-link" href="#creating-jwt-tokens-in-an-android-app" title="Direct link to heading">​</a></h3><p>To run GMetri experiences inside android apps, we recommend an implementation of Chrome Custom Tabs API.
Detailed information on how to setup an android experience with Chrome Custom Tabs can be found in this <a href="https://github.com/gmetrixr/chrome-custom-tabs-jwt/" target="_blank" rel="noopener noreferrer">experience</a></p><p>In your android experience, add the required dependencies for Chrome Custom Tabs and Jwt. Following is an example of gradle build dependencies:</p><div class="codeBlockContainer_wBFW language-java theme-code-block"><div class="codeBlockContent_bA5z java"><pre tabindex="0" class="prism-code language-java codeBlock_pemA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bvlO"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation fileTree(dir: &#x27;libs&#x27;, include: [&#x27;*.jar&#x27;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation &#x27;com.android.support:appcompat-v7:26.1.0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation &#x27;com.android.support:customtabs:26.1.0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api &#x27;io.jsonwebtoken:jjwt-api:0.11.0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    runtimeOnly &#x27;io.jsonwebtoken:jjwt-impl:0.11.0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    runtimeOnly(&#x27;io.jsonwebtoken:jjwt-orgjson:0.11.0&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exclude group: &#x27;org.json&#x27;, module: &#x27;json&#x27; //provided by Android natively</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_A02j clean-btn">Copy</button></div></div><p>Information on how to install dependencies for other build systems are in the links below:</p><ol><li><a href="https://developer.chrome.com/multidevice/android/customtabs/" target="_blank" rel="noopener noreferrer">Chrome custom tabs</a></li><li><a href="https://github.com/jwtk/jjwt/" target="_blank" rel="noopener noreferrer">JWT</a></li></ol><p>From this <a href="https://github.com/gmetrixr/chrome-custom-tabs-jwt/" target="_blank" rel="noopener noreferrer">experience</a> , copy two files: <code>ChromeCustomTabsJwt.java</code> and <code>ServiceConnectionCallback.java</code> into your android experience. These files together provide the interface for chrome custom tabs to run GMetri experiences.</p><p>The className <code>ChromeCustomTabsJwt.java</code> implements two public methods:</p><ol><li><code>initialize(String viewerIdentifier, String apiKey, String url, Context context)</code></li><li><code>launch()</code></li></ol><p>Arguments:</p><ol><li><strong>viewerIdentifier</strong> - This is a JSON string containing information for the viewer</li><li><strong>apiKey</strong> - A unique key generated for GMetri experiences.</li><li><strong>url</strong> - Url of the experience</li><li><strong>context</strong> - Context of your activity (<code>this</code>)</li></ol><p>An example implementation of the above classes:</p><div class="codeBlockContainer_wBFW language-java theme-code-block"><div class="codeBlockContent_bA5z java"><pre tabindex="0" class="prism-code language-java codeBlock_pemA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bvlO"><span class="token-line" style="color:#393A34"><span class="token plain">  ChromeCustomTabsJwt chromeCustomTabs = new ChromeCustomTabsJwt();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  JSONObject obj = new JSONObject();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj.put(&quot;identifier&quot;, &quot;test@example.com&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } catch (JSONException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String apiKey = &quot;your_secret_api_key&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String url = &quot;url_to_open&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  chromeCustomTabs.initialize(obj.toString(), apiKey, url, this);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  chromeCustomTabs.launch();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_A02j clean-btn">Copy</button></div></div><p> To add more fields to viewerIdentifier JSON object refer to the <a href="#jwt-payload">payload</a> section.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/gmetrixr/docs/edit/main/gmetri-docs/docs/02_platform/03_publish/authentication/viewer_groups/token.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_u1LP" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_RLBo"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/platform/publish/authentication/viewer_groups/sso"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SSO</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/platform/publish/authentication/viewer_groups"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Introduction</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_eMVF thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-jwt-token-for-your-experience" class="table-of-contents__link toc-highlight">Creating a Jwt token for your experience:</a><ul><li><a href="#jwt-payload" class="table-of-contents__link toc-highlight">Jwt Payload</a></li><li><a href="#creating-jwt-tokens-on-the-web" class="table-of-contents__link toc-highlight">Creating Jwt tokens on the web</a></li><li><a href="#creating-jwt-tokens-in-a-java-app" class="table-of-contents__link toc-highlight">Creating Jwt tokens in a java app</a></li><li><a href="#creating-jwt-tokens-in-an-android-app" class="table-of-contents__link toc-highlight">Creating Jwt tokens in an android app</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://www.gmetri.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.gmetri.com/justaboutreal" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://community.gmetri.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/gmetrixr" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.gmetri.com/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contact Us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Follow Us</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/GMetriXR" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/gmetri" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.instagram.com/GMetriXR" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/GMetriXR" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC1t63AtGiMM2wUGLQ5qVkoA" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://www.gmetri.com/termsofservice" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Terms of Service<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.gmetri.com/privacypolicy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.gmetri.com/acceptableusepolicy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Fair use Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.gmetri.com/cookiepolicy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ncFE"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 GMetri Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.3d0b14c7.js"></script>
<script src="/docs/assets/js/main.16436d3d.js"></script>
</body>
</html>